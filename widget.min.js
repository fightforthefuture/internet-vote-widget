!function(){var a="https://fightforthefuture.github.io/internet-vote-widget/iframe";"undefined"==typeof _iv_options&&(_iv_options={}),"undefined"==typeof _iv_options.iframe_base_path&&(_iv_options.iframe_base_path=a),"undefined"==typeof _iv_options.animation&&(_iv_options.animation="modal"),"undefined"==typeof _iv_options.delay&&(_iv_options.delay=0),"undefined"==typeof _iv_options.debug&&(_iv_options.debug=!1),"undefined"==typeof _iv_options.always_show_widget&&(_iv_options.always_show_widget=!1);var b={modal:{options:{modalAnimation:"modal"},init:function(a){for(var b in a)this.options[b]=a[b];return this},start:function(){var a="#_iv_iframe { position: fixed; left: 0px; top: 0px; 				width: 100%; height: 100%; z-index: 100001; }";c.injectCSS("_iv_iframe_css",a);var b=c.createIframe(this.options.modalAnimation);c.bindIframeCommunicator(b,this)},stop:function(){c.destroyIframe()}},banner:{options:{modalAnimation:"banner",variant:"default"},init:function(a){for(var b in a)this.options[b]=a[b];return this},start:function(){var a="#_iv_iframe { position: fixed; left: 0px; bottom: 0px; 				width: 100%; height: 133px; z-index: 100001; display: none; } 				@media screen and (max-width: 850px) { #_iv_iframe { 				display: none !important; } } /* JL HACK ~ */";c.injectCSS("_iv_iframe_css",a);var b=c.createIframe(this.options.modalAnimation);c.bindIframeCommunicator(b,this)},stop:function(){c.destroyIframe()}}},c={injectCSS:function(a,b){var c=document.createElement("style");c.type="text/css",c.id=a,c.styleSheet?c.styleSheet.cssText=b:c.appendChild(document.createTextNode(b)),document.head.appendChild(c)},createIframe:function(a){var b=document.createElement("iframe");return b.id="_iv_iframe",b.src=_iv_options.iframe_base_path+"/"+a+".html",b.frameBorder=0,b.allowTransparency=!0,b.style.display="none",document.body.appendChild(b),b},destroyIframe:function(){var a=document.getElementById("_iv_iframe");a.parentNode.removeChild(a)},bindIframeCommunicator:function(a,b){var c=function(b,c){c||(c={}),c.requestType=b,c.IV_WIDGET_MSG=!0,c.HOST_NAME=g,a.contentWindow.postMessage(c,"*")},d=window.addEventListener?"addEventListener":"attachEvent",e=window[d],f="attachEvent"==d?"onmessage":"message",g=this.getHostname();e(f,function(d){if(d.data&&d.data.IV_IFRAME_MSG)switch(delete d.data.IV_IFRAME_MSG,d.data.requestType){case"getAnimation":a.style.display="block",c("putAnimation",b.options);break;case"stop":b.stop()}},!1)},setCookie:function(a,b,c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="expires="+d.toGMTString();document.cookie=a+"="+b+"; "+e+"; path=/"},getCookie:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){var e=c[d].trim();if(0==e.indexOf(b))return e.substring(b.length,e.length)}return""},getHostname:function(){var a=window.location.host.replace("www.","");return a},log:function(){_iv_options.debug&&console.log.apply(console,arguments)}},d=function(){function a(){for(i=0;i<a.arguments.length;i++)e[i]=new Image,e[i].src=_iv_options.iframe_base_path+"/images/"+a.arguments[i],e[i].onload=function(){f++,f==e.length&&setTimeout(function(){var a=b[_iv_options.animation];a.init(_iv_options).start()},_iv_options.delay)}}var d=window.location.href.indexOf("SHOW_IV_WIDGET")>-1;if(_iv_options.always_show_widget||0!=d||!c.getCookie("_IV_WIDGET_SHOWN")){if(c.setCookie("_IV_WIDGET_SHOWN","true",365),"undefined"==typeof b[_iv_options.animation])return c.log("Animation undefined: "+_iv_options.animation);var e=new Array,f=0;a("idl.png","modal_header.png","capitol.png")}},e=document.readyState;"complete"==e||"loaded"==e||"interactive"==e?d():document.addEventListener&&document.addEventListener("DOMContentLoaded",d,!1)}();